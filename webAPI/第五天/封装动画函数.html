<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }
        div {
            width: 300px;
            height: 200px;
            background-color: deeppink;
            position: absolute;
        }
    </style>

</head>
<body>
<input type="button" value="移动到400px" id="400btn" />
<input type="button" value="移动到800px" id="800btn" />
<div id="dv"></div>
<script src="common.js"></script>

<script>
    var total = 0;
    var step = 10;//每步移动的步长
    function animate(element,target){
        var timeId = setInterval(function () {
            if(total<target){ //total检测是否到达target位置未达到则继续前进
                console.log(total);
                total = total+step;
                element.style.left = total+"px";
            }
            else if(total>target){
                total = total -step;
                element.style.left = total+step+"px";
            }
            else {
                window.clearInterval(timeId);
            }
        },10);

    }
    $my("400btn").onclick = function () {
        animate($my("dv"),400)
    };
    $my("800btn").onclick = function () {
        animate($my("dv"),800)
    };
</script>


</body>
</html>